!function(n,a){"use strict";if("function"==typeof define)define(a);else if("undefined"!=typeof module&&module.exports)module.exports=a();else{var e=window||this,t=e[n],i=a();i.noConflict=function(){return e[n]=t,i},e[n]=i}}("GoogleTTS",function(){"use strict";var n=function(a){var e=this,t=100;e.defaultLanguage=a||"en";var i={af:"Afrikaans",sq:"Albanian",ar:"Arabic",hy:"Armenian",ca:"Catalan","zh-CN":"Mandarin (simplified)","zh-TW":"Mandarin (traditional)",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",fi:"Finnish",fr:"French",de:"German",el:"Greek",ht:"Haitian Creole",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",ko:"Korean",la:"Latin",lv:"Latvian",mk:"Macedonian",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",es:"Spanish",sw:"Swahili",sv:"Swedish",ta:"Tamil",th:"Thai",tr:"Turkish",vi:"Vietnamese",cy:"Welsh"};e._players=[new n.HTML5Player,new n.SM2Player],e.addPlayer=function(a){if(!(a instanceof n.Player))throw new Error("Must be a instance of base Player class");e._players.push(a)},e.languages=function(){return i},e.getPlayer=function(n){if(e.availablePlayer)return n(null,e.availablePlayer);var a,t=-1;(a=function(){return e._players.length<=++t?n():(e._players[t].available(function(i){return i?(e.availablePlayer=e._players[t],n(null,e.availablePlayer)):(a(),void 0)}),void 0)}).call()},e.urls=function(n,a){if(a=a||e.defaultLanguage,!n||0>=n.length)throw new Error("Need some text");for(var i=e._sliceInput(n,t),r=[],l=0;l<i.length;++l){var o=i[l];r.push("http://translate.google.com/translate_tts?ie=UTF-8&tl="+a+"&q="+o+"&textlen="+o.length+"&idx="+l+"&total="+i.length)}return r},e._sliceInput=function(n,a){var e=[],t=0;do e.push(n.slice(t,t+a)),t+=a;while(n.length>t);return e},e.play=function(n,a,t){e.getPlayer(function(i,r){if(i)return t(i);if(!r)return t(new Error("No playback mechanism is available"));var l=e.urls(n,a),o=null;(o=function(n){return n?t(n):0>=l.length?t():(r.play(l.shift(),o),void 0)}).call()})}},a=function(n,a){n.prototype=new a,n.prototype.constructor=n,n.prototype.parent=a.prototype};return n.Player=function(){var n=this;n.available=function(){throw new Error("Not yet implemented")},n.play=function(){throw new Error("Not yet implemented")},n.toString=function(){throw new Error("Not yet implemented")}},n.HTML5Player=function(){var n=this;n._available=null,n.available=function(a){return null===n._available?(function(n){try{if("undefined"==typeof window.Audio)return n(null,!1);var a=new Audio;if("probably"===a.canPlayType("audio/mpeg"))return n(null,!0);a.addEventListener("canplaythrough",function(){n(null,!0)},!1),a.addEventListener("error",function(){n(null,!1)},!1),a.src="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",a.load()}catch(e){n(e)}}(function(e,t){e&&console.log(e),n._available=t,a(n._available)}),void 0):(a(n._available),void 0)},n.play=function(n,a){try{var e=new Audio;e.src=n,e.addEventListener("ended",function(){a()}),e.play()}catch(t){return a(t)}},n.toString=function(){return"HTML5 Audio"}},a(n.HTML5Player,n.Player),n.SM2Player=function(){var n=this;n._available=null,n._soundId=0,n._unique_instance_id=parseInt(1e3*Math.random(),10),n.available=function(a){null===n._available&&"undefined"!=typeof window.soundManager&&"function"==typeof window.soundManager.ok&&(n._available=window.soundManager.ok()),a(n._available)},n.play=function(a,e){try{window.soundManager.createSound({id:"googletts-"+n._unique_instance_id+"-"+ ++n._soundId,url:a,onfinish:e}).play()}catch(t){e(t)}},n.toString=function(){return"SoundManager2"}},a(n.SM2Player,n.Player),n});